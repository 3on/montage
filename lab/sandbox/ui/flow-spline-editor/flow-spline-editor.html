<!DOCTYPE html>
<!-- <copyright>
 This file contains proprietary software owned by Motorola Mobility, Inc.<br/>
 No rights, expressed or implied, whatsoever to this software are provided by Motorola Mobility, Inc. hereunder.<br/>
 (c) Copyright 2011 Motorola Mobility, Inc.  All Rights Reserved.
 </copyright> -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Flow Spline Editor</title>
    <script src="../../../../montage.js" data-package="."></script>
    <!--
            "nearest": {
                "module": "montage/ui/nearest-neighbor-component-search",
                "name": "NearestNeighborComponentSearch",
                "bindings": {
                    "componentList": {
                        "boundObject": {"@": "flow"},
                        "boundObjectPropertyPath": "_repetitionComponents",
                        "oneway": true
                    },
                    "pointerPosition": {
                        "boundObject": {"@": "scroll"},
                        "boundObjectPropertyPath": "pointerStartEventPosition",
                        "oneway": true
                    }
                }
            },
    -->
    <script type="text/montage-serialization">
        {
            "owner": {
                "module": "montage/lab/sandbox/ui/flow-spline-editor/flow-spline-editor.js",
                "name": "FlowSplineEditor"
            },
            "editor": {
                "module": "spline-editor.reel",
                "name": "SplineEditor",
                "properties": {
                    "element": {"#": "spline-editor"},
                    "flow": {"@": "flow"}
                },
                "bindings": {
                    "cameraPosition": {
                        "boundObject": {"@": "flow"},
                        "boundObjectPropertyPath": "cameraPosition"
                    },
                    "cameraFocusPoint": {
                        "boundObject": {"@": "flow"},
                        "boundObjectPropertyPath": "cameraFocusPoint"
                    },
                    "cameraFov": {
                        "boundObject": {"@": "flow"},
                        "boundObjectPropertyPath": "cameraFov"
                    },
                    "cameraRoll": {
                        "boundObject": {"@": "flow"},
                        "boundObjectPropertyPath": "cameraRoll"
                    }
                }
            },
            "flow": {
                "module": "montage/ui/flow.reel",
                "name": "Flow",
                "properties": {
                    "element": {"#": "flow"},
                    "objects": [
                        0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39
                    ],
                    "scale": 300
                },
                "bindings": {
                    "splinePath": {
                        "boundObject": {"@": "editor"},
                        "boundObjectPropertyPath": "spline"
                    },
                    "needsDraw": {
                        "boundObject": {"@": "editor"},
                        "boundObjectPropertyPath": "hasSplineUpdated"
                    }
                }
            },
            "scroll": {
                "module": "montage/ui/composer/translate-composer",
                "name": "TranslateComposer",
                "properties": {
                    "component": {"@": "flow"},
                    "maxTranslateX": 100000
                },
                "bindings": {
                    "element": {
                        "boundObject": {"@": "flow"},
                        "boundObjectPropertyPath": "_element",
                        "oneway": true
                    },
                    "translateX": {
                        "boundObject": {"@": "flow"},
                        "boundObjectPropertyPath": "origin"
                    }
                }
            },
            "slide": {
                "module": "montage/ui/dynamic-text.reel",
                "name": "DynamicText",
                "properties": {
                    "element": {"#": "slide"}
                },
                "bindings": {
                    "value": {
                        "boundObject": {"@": "flow"},
                        "boundObjectPropertyPath": "objectAtCurrentIteration",
                        "oneway": true
                    }
                }
            }
        }
    </script>
    <style>
        html {
            background: #555;
        }
        .flow {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 500px;
        }
        .slide {
            position: absolute;
            left: 50%;
            top: 50%;
            margin-left: -100px;
            margin-top: -100px;
            width: 200px;
            height: 200px;
            line-height: 200px;
            text-align: center;
            background: -webkit-gradient(linear, left top, left bottom, from(#ddd), to(#888));
            font-family: sans-serif;
            font-size: 90px;
            color: #fff;
            text-shadow: 0 2px 7px #777;
            -webkit-box-shadow: inset 2px 6px 8px -4px #fff, inset -2px -5px 6px -4px #333, 0 0 10px rgba(0, 0, 0, .3);
            -webkit-transform-origin: 100px 100px 0 !important;
            border-radius: 40px;
            gdisplay: none;
        }
    </style>
</head>
<body>
    <div id="spline-editor" class="spline-editor"></div>
    <div id="flow" class="flow">
        <div id="slide" class="slide"></div>
    </div>
</body>
</html>
